<% include ./partials/header.ejs %>
<div class="w-full min-h-screen bg-zinc-900 text-white">
    <div class="navbar w-full flex items-center justify-between p-8 text-white border-b-2 border-[#575757]">
        <h1 class="text-xl">Messages</h1>
        <a href="/feed">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3" />
            </svg>
        </a>  
    </div>
    <div class="message-section w-full h-[100vh] overflow-scroll">
        <% allUsers.forEach((val)=>{ %>
            <div class="msg w-full p-8 flex items-center justify-between border-b-2 border-[#575757]">
                <div class="user-profile-pic h-12 w-12 overflow-hidden">
                    <img src="/images/uploads/<%= val.profileImage %>" class="border-rounded rounded-full w-full h-full object-cover object-center" alt="Hello" srcset="">
                </div>
                <div class="usersinfo w-[80vw] flex items-center justify-between ">
                    <div class="user-name pl-4 flex flex-col items-start justify-between">
                        <h1><%= val.name %></h1>
                        <a href="#" class="text-sm text-zinc-500">Recent Messages</a>
                    </div>
                    <div class="msgbutton">
                        <a href="/message/<%= val._id %>" class="py-4 px-4 bg-blue-500 rounded-lg text-sm">Message</a>
                    </div>
                </div>
            </div>

        <% }) %>
        
    </div>
</div>